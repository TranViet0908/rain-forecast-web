<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<body>
<nav th:fragment="sidebar" class="admin-sidebar">
  <div class="sidebar-brand">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="M4.1 9.9c.7 1.3 2 2.1 3.9 2.1s3-.8 4-2c1 1.2 2 2 4 2s3.2-.8 3.9-2.1"></path>
      <path d="M4 14c.7 1.3 2 2.1 3.9 2.1s3-.8 4-2c1 1.2 2 2 4 2s3.2-.8 3.9-2.1"></path>
    </svg>
    <span>RainAI Admin</span>
  </div>

  <ul class="sidebar-menu">
    <li>
      <a href="/admin/dashboard" th:classappend="${currentUri != null && currentUri.endsWith('/dashboard') ? 'active' : ''}">
        <span>ğŸ“Š</span> Dashboard
      </a>
    </li>
    <li>
      <a href="/admin/history" th:classappend="${currentUri != null && currentUri.contains('/history') ? 'active' : ''}">
        <span>ğŸ—‚ï¸</span> Lá»‹ch sá»­ dá»± bÃ¡o
      </a>
    </li>
    <li>
      <a href="/admin/verification" th:classappend="${currentUri != null && currentUri.contains('/verification') ? 'active' : ''}">
        <span>âœ…</span> Káº¿t quáº£ thá»±c táº¿ <span class="badge-pending" th:if="${pendingCount != null && pendingCount > 0}" th:text="${pendingCount}"></span>
      </a>
    </li>
    <li>
      <a href="/admin/subscribers" th:classappend="${currentUri != null && currentUri.contains('/subscribers') ? 'active' : ''}">
        <span>ğŸ“§</span> Subscribers
      </a>
    </li>
    <li class="menu-divider"></li>
    <li sec:authorize="hasRole('ADMIN')">
      <a href="/admin/accounts" th:classappend="${currentUri != null && currentUri.contains('/accounts') ? 'active' : ''}">
        <span>ğŸ‘¥</span> TÃ i khoáº£n
      </a>
    </li>
    <li sec:authorize="hasRole('ADMIN')">
      <a href="/admin/settings" th:classappend="${currentUri != null && currentUri.contains('/settings') ? 'active' : ''}">
        <span>âš™ï¸</span> Cáº¥u hÃ¬nh
      </a>
    </li>
    <li class="menu-divider"></li>
    <li>
      <a href="/" style="color: #64748b;">
        <span>â¬…ï¸</span> Vá» trang chá»§
      </a>
    </li>
    <li>
      <form th:action="@{/logout}" method="post" style="padding: 0 1rem;">
        <button type="submit" style="background:none; border:none; color:#ef4444; font-weight:600; cursor:pointer; display:flex; gap:0.75rem; padding:0.75rem 0;">
          <span>ğŸšª</span> ÄÄƒng xuáº¥t
        </button>
      </form>
    </li>
  </ul>
</nav>
</body>
</html>